<template name="pagesList">
  <ol class="breadcrumb">
    {{#if currentUser }}
    <li><a href="/">Clients</a></li>
    {{/if}}
    <li><a href="/{{breadcrumb_client}}">{{client}}</a></li>
    <li class="active">{{project}}</li>
  </ol>
  <div class="page-header m-t-lg m-b-lg">
    <h1 class="display-1">{{client}}</h1>
    <h2 class="lead text-muted">{{project}}</h2>
  </div>

  <div class="card">
    <div class="card-header">
      <h2>List of pages</h2>
    </div>
    <ul id="pagesList" class="pages-list list-group list-group-flush">
      {{#each pages}}
      <li class="list-group-item">
        {{> pageItem}}
      </li>
      {{/each}}
    </ul>
    {{#if currentUser }}
    <div class="card-footer">
      <a type="button" class="add-new-page btn btn-primary-outline btn-lg">Create new page</a>
    </div>
    {{/if}}
  </div>

  {{> editModalPageTemplate}}
</template>

<template name="editModalPageTemplate">
  <div class="modal fade" id="editmodal">
    <div class="modal-dialog modal-md">
      <div class="modal-content">

        <div class="modal-header">
          <h4 class="modal-title">Page add</h4>
        </div>

        <form data-parsley-errors-messages-disabled>
          <input type="hidden" id="pageId">
          <div class="modal-body">

            <fieldset class="form-group">
              <label for="pageName">Page name</label>
              <input type="text" id="pageName" class="form-control" required>
              <small class="text-muted">A name for your page, for example: Home page</small>
            </fieldset>
            <fieldset class="form-group">
              <label for="pageUrl">Page url</label>
              <input type="text" id="pageUrl" class="form-control">
              <small class="text-muted">The last part of the url this page will be found under. This is optional and if left out the page name will be used to automatically create the url.</small>
            </fieldset>
            <fieldset class="form-group">
              <label for="pageWidth">Page width</label>
              <input type="text" id="pageWidth" class="form-control" data-parsley-type="number">
              <small class="text-muted">You can optionally specify a page width. This can be useful if you are uploading a retina or hi-dpi image and need it to scale to a fixed width.</small>
            </fieldset>
            <fieldset class="form-group hidden">
              <img src="" id="pageImageUrl" class="preview">
              <button class="btn btn-danger delete-image" type="button">Delete image</button>
            </fieldset>

          </div>

          <div class="modal-footer">
            <input type="submit" class="btn btn-primary" id="save" value="Save">
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          </div>

        </form>

      </div>
    </div>
  </div>
</template>